<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script> 
    <title>Document</title>
</head>
<body>
    

    <!-- <form id="addForm">
        <div class="mb-3">
      
          <input  class="form-control"  type="text" id="formtaskName" placeholder="task name">
  
        </div>
        <div class="mb-3">
        
          <input  class="form-control" type="text" id="formTodo" placeholder="To Do">
        </div>
        <div class="mb-3">
  
          <input  class="form-control" type="text" id="formImage" placeholder="Image">
        </div>
        <button type="submit" class="btn btn-primary" onclick="submitTask()">Submit</button>
      </form> -->

<form id="form" method="post">
    <input  type="text" id="formtaskName" placeholder="task name">
    <input   type="text" id="formTodo" placeholder="To Do">
    <input   type="text" id="formImage" placeholder="Image">
    <input type="submit" value="Add todo">
</form>



</body>
</html>
<script>

    var form=document.getElementById('form')
    form.addEventListener('submit',async function(e){
e.preventDefault();
let taskName=document.getElementById('formtaskName').value;
let formtodo=document.getElementById('formTodo').value;
let formImage=document.getElementById('formImage').value;

// let sdata={
//     taskName:taskName,
//     todo:formtodo,
//     image:formImage
// }
fetch("http://localhost:8888/addNewTask/1",{
    method:'POST',
  body : JSON.stringify({
    taskName:taskName,
    todo:formtodo,
    image:formImage
  }),
  headers:{
    'Content-Type':'application/json; charset=utf-8',
    'Access-Control-Allow-Origin': '*',
  },



}).then(function(res){
    return res.json();
}).then(function(data){
    console.log(data)
})
    })
async function submitTask(){


// let taskName=document.getElementById('formtaskName').value;
// let formtodo=document.getElementById('formTodo').value;
// let formImage=document.getElementById('formImage').value;
// let sdata={
//     taskName:taskName,
//     todo:formtodo,
//     image:formImage
// }

  
let res = await fetch(`http://localhost:8080/posts`,{
    method:'POST',
  body : JSON.stringify(sdata),
  headers:{
    'Content-Type':'application/json',
  },



});

let fdata=await res.json();
console.log('fdata :',fdata);
  

}

</script>